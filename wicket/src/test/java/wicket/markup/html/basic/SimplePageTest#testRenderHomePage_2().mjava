	/**
	 * @throws Exception
	 */
	public void testRenderHomePage_2() throws Exception
	{
		executeTest(SimplePage.class, "SimplePageExpectedResult.html");

		Label label = (Label)tester.getLastRenderedPage().get("myLabel");
		assertNotNull(label);
		tester.processRequestCycle(label);
		String document = tester.getServletResponse().getDocument();
		assertNotNull(document);
		assertEquals("<span wicket:id=\"myLabel\">Test Label</span>", document);

		Panel panel = (Panel)tester.getLastRenderedPage().get("myPanel");
		assertNotNull(panel);
		tester.processRequestCycle(panel);
		document = tester.getServletResponse().getDocument();
		assertNotNull(document);
		assertEquals(
				"<wicket:panel>Inside the panel<span wicket:id=\"label\">mein Label</span></wicket:panel>",
				document);

		label = (Label)tester.getLastRenderedPage().get("myPanel:label");
		assertNotNull(label);
		tester.processRequestCycle(label);
		document = tester.getServletResponse().getDocument();
		assertNotNull(document);
		assertFalse("".equals(document));
		assertEquals("<span wicket:id=\"label\">mein Label</span>", document);

		Border border = (Border)tester.getLastRenderedPage().get("myBorder");
		assertNotNull(border);
		tester.processRequestCycle(border);
		document = tester.getServletResponse().getDocument();
		assertNotNull(document);
		assertFalse("".equals(document));
		assertEquals(
				"<wicket:border>before body - <wicket:body>border</wicket:body> - after body</wicket:border>",
				document);

		border = (Border)tester.getLastRenderedPage().get("myBorder2");
		assertNotNull(border);
		tester.processRequestCycle(border);
		document = tester.getServletResponse().getDocument();
		assertNotNull(document);
		assertFalse("".equals(document));
		assertEquals(
				"<span testAttr=\"myValue\" wicket:id=\"myBorder2\"><wicket:border>before body - <wicket:body>border</wicket:body> - after body</wicket:border></span>",
				document);

		// do the same test twice. Igor reported a problem with that, so we have
		// to test it.
		border = (Border)tester.getLastRenderedPage().get("myBorder2");
		assertNotNull(border);
		tester.processRequestCycle(border);
		document = tester.getServletResponse().getDocument();
		assertNotNull(document);
		assertFalse("".equals(document));
		assertEquals(
				"<span testAttr=\"myValue\" wicket:id=\"myBorder2\"><wicket:border>before body - <wicket:body>border</wicket:body> - after body</wicket:border></span>",
				document);

		WebMarkupContainer container = (WebMarkupContainer)tester.getLastRenderedPage().get(
				"test");
		assertNotNull(container);
		tester.processRequestCycle(container);
		document = tester.getServletResponse().getDocument();
		assertNotNull(document);
		assertFalse("".equals(document));
		assertEquals("body<span wicket:id=\"myLabel2\">Test Label2</span>", document);

		label = (Label)tester.getLastRenderedPage().get("test:myLabel2");
		assertNotNull(label);
		tester.processRequestCycle(label);
		document = tester.getServletResponse().getDocument();
		assertNotNull(document);
		assertFalse("".equals(document));
		assertEquals("<span wicket:id=\"myLabel2\">Test Label2</span>", document);
	}

